@app.route('/uploader', methods=['GET', 'POST'])
def upload_file():
    if request.method == 'POST':
        f = request.files['file']
        f.save(secure_filename(f.filename))

        clf = joblib.load(os.path.join(os.path.dirname(
            os.path.realpath(__file__)), 'classifier/classifier.pkl'))
        features = pickle.loads(open(os.path.join(os.path.dirname(
            os.path.realpath(__file__)), 'classifier/features.pkl'), 'rb').read())
        data = extract_infos(tweet)
        pe_features = list(map(lambda x: data[x], features))
        res = clf.predict([pe_features])[0]
        #########################################

        return render_template('result.html', prediction=['legitimate', 'malicious'][res])